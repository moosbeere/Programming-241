#include <iostream>

using namespace std;

// Рекурсивно выводит числа от a до b-1
// Используется для вывода диапазона [a, b)
void recurRangePrint(int a, int b) {
  // Базовый случай: если дошли до b — прекращаем рекурсию
  if (a == b)
    return;

  // Выводим текущее число
  cout << a << " ";

  // Рекурсивный вызов для следующего числа
  recurRangePrint(a + 1, b);
}

// Рекурсивно выводит числа от a до b
// Если a < b — по возрастанию, иначе — по убыванию
void recurRangeAB(int a, int b) {
  // Базовый случай: когда a дошло до b
  if (a == b)
    return;

  // Если движемся вверх (a < b)
  if (a < b) {
    cout << a << " ";
    a += 1; // увеличиваем a
  } 
  // Если движемся вниз (a > b)
  else {
    cout << a << " ";
    a -= 1; // уменьшаем a
  }

  // Рекурсивный вызов с обновлённым a
  recurRangeAB(a, b);
}

// Рекурсивно вычисляет сумму чисел от 1 до a
// (фактически сумму цифр здесь не считают, а сумму чисел)
int recurSum(int a) {
  // Базовый случай: если a <= 0, сумма равна 0
  if (a <= 0)
    return 0;

  // Рекурсивно складываем a с суммой чисел до a-1
  return recurSum(a - 1) + a;
};

// Рекурсивно выводит простые делители числа n
// c — текущий делитель (по умолчанию 2)
void recurDivisors(int n, int c = 2) {
  // Если число полностью разложено
  if (n == 1) {
    return;
  }

  // Если c^2 больше n, значит n — простое число
  if (c * c > n) {
    if (n > 1) {
      cout << n << " ";
    }
    return;
  }

  // Если n делится на c без остатка
  if (n % c == 0) {
    cout << c << " ";          // выводим делитель
    recurDivisors(n / c, c);   // продолжаем деление
  } 
  else {
    // После 2 проверяем только нечётные числа
    if (c == 2) {
      recurDivisors(n, 3);
    } else {
      recurDivisors(n, c + 2);
    }
  }
}

int main() {

  int a, b, n;

  // Задача 1: вывести числа от 1 до n
  cout << "Дано натуральное число n. Выведите все числа от 1 до n." << endl;
  cout << "Введите число n: ";
  cin >> n;

  // Проверка на корректность ввода
  if (n < 1)
    return -1;

  // Вывод чисел от 1 до n
  recurRangePrint(1, n + 1);
  cout << endl;

  // Задача 2: вывести числа от A до B
  cout << "Даны два целых числа A и В. Выведите все числа от A до B." << endl;

  cout << "Введите число a: ";
  cin >> a;
  cout << "Введите число b: ";
  cin >> b;

  // Корректируем b, чтобы последний элемент тоже вывелся
  if (a < b) {
    b += 1;
  } else {
    b -= 1;
  }

  recurRangeAB(a, b);
  cout << endl;

  // Задача 3: вычислить сумму чисел от 1 до a
  cout << "Введите число a: ";
  cin >> a;
  cout << recurSum(a) << endl;

  // Задача 4: вывести простые делители числа
  cout << "Введите число a: ";
  cin >> a;

  recurDivisors(a);
  cout << endl;

  return 0;
}
