#include <iostream>
#include <locale>
#include <iomanip> // для манипуляторов вывода

using namespace std;

int main() {
    // Устанавливаем русскую локаль для консоли
    setlocale(LC_ALL, "Russian");

    // 1. Создаем переменную со значением
    int myVar = 42;
    cout << "1. Переменная myVar создана со значением: " << myVar << endl;

    // 2. Объявляем указатель на созданную переменную
    int* myPtr = &myVar;
    cout << "2. Указатель myPtr создан и указывает на myVar" << endl;

    // 3. Выводим адрес указателя и значение по этому адресу
    cout << "3. Адрес, хранящийся в указателе: " << myPtr << endl;
    cout << "   Значение по этому адресу: " << *myPtr << endl;

    // 4. Изменяем значение по адресу указателя
    *myPtr = 100;
    cout << "4. Значение по адресу указателя изменено на: " << *myPtr << endl;

    // 5. Убеждаемся, что переменная из 1-го пункта тоже изменилась
    cout << "5. Переменная myVar теперь имеет значение: " << myVar << endl;

    // 6. Создаем массив из нескольких элементов
    int myArray[5] = { 10, 20, 30, 40, 50 };
    cout << "6. Массив создан: {10, 20, 30, 40, 50}" << endl;

    // 7. Выводим все элементы массива с использованием указателя
    cout << "7. Элементы массива через указатель:" << endl;
    int* arrPtr = myArray; // Указатель на первый элемент массива

    for (int i = 0; i < 5; i++) {
        cout << "   Элемент " << i << ": " << *(arrPtr + i) << endl;
        // Альтернативный синтаксис: arrPtr[i]
    }

    // 8. Объявляем целую переменную со значением 5
    int var = 5;
    cout << "8. Переменная var создана со значением: " << var << endl;

    // 9. Создаем константный указатель (нельзя менять адрес, но можно менять значение)
    int* const constPtr = &var;
    cout << "9. Создан константный указатель constPtr" << endl;

    // 10. Тестируем константный указатель

    // a) Пытаемся поменять значение через указатель (это должно работать)
    *constPtr = 25;
    cout << "10a. Изменяем значение через constPtr на: " << *constPtr << endl;
    cout << "    Переменная var теперь имеет значение: " << var << endl;

    // b) Пытаемся поменять адрес указателя (это должно вызвать ошибку компиляции)
    int anotherVar = 100;
    cout << "10b. Пытаемся изменить адрес constPtr..." << endl;

    // Раскомментируйте следующую строку, чтобы увидеть ошибку компиляции:
    // constPtr = &anotherVar; // Ошибка: нельзя изменить адрес константного указателя

    cout << "\nПрограмма успешно завершена!" << endl;

    return 0;
}
